
import Kelley
using Kelley
using LinearAlgebra

n=9

g(x)=return[
    norm([0,0]-x[1:2])+sum(norm(x[2*i+1:2*i+2]-x[2*i+3:2*i+4],2) for i in 1:n-2)+norm(x[2*(n-2)+3:2*(n-2)+4]-[0,0],2)-x[2*n+1],
    (x[1] - 1)^(2) + (x[2] - 2)^(2) - 0.49,
    (x[3] - 3)^(2) + (x[4] - 3)^(2) - 1,
    (x[5] - 6)^(2) + (x[6] - 3)^(2) - 2.25,
    (x[7] - 5)^(2) + (x[8] - 1)^(2) - 1,
    (x[9] - 5)^(2) + (x[10] + 0.5)^(2) - 0.25,
    (x[11] - 4.5)^(2) + (x[12] + 2)^(2) - 0.64,
    (x[13] - 2)^(2) + (x[14] + 2.5)^(2) - 2.25,
    (x[15] - 2)^(2) + x[16]^(2) - 1,
    (x[17] - 3)^(2) + (x[18] - 1)^(2) - 0.25  
]

f(x)=x[2*n+1]

optimize!(KelleyAlgorithm(),f,g,(2*n+1)) 

show_objective()
show_solution()